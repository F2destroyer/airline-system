{% extends "base.html" %}

{% block title %}Linhas Aéreas ED-II - Página Inicial{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container text-center">
        <h1><i class="fas fa-plane"></i> Linhas Aéreas ED-II</h1>
        <p class="lead">Voos econômicos nacionais e internacionais</p>
        <a href="{{ url_for('search_flights') }}" class="btn btn-light btn-lg mt-3">
            <i class="fas fa-search"></i> Buscar Voos
        </a>
    </div>
</div>

<div class="container my-5">
    <div class="row mb-5">
        <div class="col-md-4 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <i class="fas fa-plane-departure fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Buscar Voos</h5>
                    <p class="card-text">Encontre os melhores voos para seu destino com preços imbatíveis.</p>
                    <a href="{{ url_for('search_flights') }}" class="btn btn-primary">Buscar</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <i class="fas fa-route fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Simular Rotas</h5>
                    <p class="card-text">Simule conexões entre voos e encontre a melhor opção de trajeto.</p>
                    <a href="{{ url_for('simulate_route') }}" class="btn btn-primary">Simular</a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <i class="fas fa-ticket-alt fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Consultar Reserva</h5>
                    <p class="card-text">Verifique o status da sua reserva usando o código de confirmação.</p>
                    <a href="{{ url_for('check_reservation') }}" class="btn btn-primary">Consultar</a>
                </div>
            </div>
        </div>
    </div>

    <h2 class="mb-4"><i class="fas fa-plane"></i> Voos Disponíveis</h2>
    
    {% if flights %}
    <div class="row">
        {% for flight in flights %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card card-flight h-100">
                <div class="card-header bg-primary text-white">
                    <strong>{{ flight.codigo }}</strong> - {{ flight.tipo_aeronave }}
                </div>
                <div class="card-body">
                    <h5 class="card-title">
                        {{ flight.origem }} <i class="fas fa-arrow-right"></i> {{ flight.destino }}
                    </h5>
                    <p class="card-text">
                        <i class="fas fa-road"></i> {{ flight.milhas }} milhas<br>
                        <i class="fas fa-chair"></i> {{ flight.assentos_disponiveis }}/{{ flight.assentos }} assentos disponíveis
                    </p>
                    <h4 class="text-success">R$ {{ "%.2f"|format(flight.preco) }}</h4>
                </div>
                <div class="card-footer">
                    {% if flight.assentos_disponiveis > 0 %}
                    <a href="{{ url_for('book_flight', flight_code=flight.codigo) }}" class="btn btn-primary w-100">
                        <i class="fas fa-shopping-cart"></i> Reservar
                    </a>
                    {% else %}
                    <button class="btn btn-secondary w-100" disabled>Esgotado</button>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info">
        <i class="fas fa-info-circle"></i> Nenhum voo disponível no momento.
    </div>
    {% endif %}
</div>
{% endblock %}
